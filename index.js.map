{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const cardTemplate = cardInfo => {\n    return ` <li class=\"photo-card\">\n        <a href=\"${cardInfo.largeImageURL}\">\n            <img src=\"${cardInfo.webformatURL}\" alt=\"${cardInfo.tags}\" />\n        </a>\n        <div class=\"info\">\n            <p>Likes: <span>${cardInfo.likes}</span></p>\n            <p>Views: <span>${cardInfo.views}</span></p>\n            <p>Comments: <span>${cardInfo.comments}</span></p>\n            <p>Downloads: <span>${cardInfo.downloads}</span></p>\n        </div>\n    </li>`\n};","export const fetchPhotos = searchedQuery => {\n    const params = new URLSearchParams({\n        key: '48576644-2047f7a262d439c7b8152f8c6',\n        q: `${searchedQuery}`,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true',\n    });\n\n    return fetch(`https://pixabay.com/api/?${params}`)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n\n            return response.json();\n        });\n};","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst searchForm = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\nconst loading = document.querySelector('.loading');\n\nimport { cardTemplate } from './js/render-functions';\nimport { fetchPhotos } from './js/pixabay-api';\n\nconst searchFormSubmit = event => {\n    event.preventDefault();\n\n    gallery.innerHTML = '';\n\n    const searchedQuery = event.currentTarget.elements.query.value.trim();\n\n    if (searchedQuery === '') {\n\n       iziToast.show({\n                    \n                    title: '',\n                    backgroundColor: 'red',\n                    messageColor: 'white',\n                    position: 'topRight',\n           message: 'Please enter a search term!'\n       });\n    \n\n        return;\n    };\n\n    loading.style.display = 'block';\n\n     fetchPhotos(searchedQuery)\n        .then(data => {\n            \n\n            if (data.total === 0) {\n\n                iziToast.show({\n                    \n                    title: '',\n                    backgroundColor: 'red',\n                    messageColor: 'white',\n                    position: 'topRight',\n                    message: 'Sorry, there are no images matching your search query. Please try again!'\n                });\n                \n                loading.style.display = 'none'; \n                \n                return;\n            }\n\n            const galleryTemplate = data.hits.map(el => cardTemplate(el)).join('');\n\n            gallery.innerHTML = galleryTemplate;\n\n            const lightbox = new SimpleLightbox('.gallery a', {\n                captionsData: 'alt',\n                captionPosition: 'bottom',\n                captionDelay: 500,\n            });\n\n            lightbox.refresh();  \n\n            loading.style.display = 'none';\n\n        })\n        .catch(error => {\n            console.log(error);\n            loading.style.display = 'none'; \n        });\n    \n     searchForm.reset();\n    \n};\n\nsearchForm.addEventListener('submit', searchFormSubmit);"],"names":["cardTemplate","cardInfo","fetchPhotos","searchedQuery","params","response","searchForm","gallery","loading","searchFormSubmit","event","iziToast","data","galleryTemplate","el","SimpleLightbox","error"],"mappings":"6vBAAO,MAAMA,EAAeC,GACjB;AAAA,mBACQA,EAAS,aAAa;AAAA,wBACjBA,EAAS,YAAY,UAAUA,EAAS,IAAI;AAAA;AAAA;AAAA,8BAGtCA,EAAS,KAAK;AAAA,8BACdA,EAAS,KAAK;AAAA,iCACXA,EAAS,QAAQ;AAAA,kCAChBA,EAAS,SAAS;AAAA;AAAA,WCTvCC,EAAcC,GAAiB,CACxC,MAAMC,EAAS,IAAI,gBAAgB,CAC/B,IAAK,qCACL,EAAG,GAAGD,CAAa,GACnB,WAAY,QACZ,YAAa,aACb,WAAY,MACpB,CAAK,EAED,OAAO,MAAM,4BAA4BC,CAAM,EAAE,EAC5C,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGnC,OAAOA,EAAS,MAC5B,CAAS,CACT,ECXMC,EAAa,SAAS,cAAc,OAAO,EAC3CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAU,SAAS,cAAc,UAAU,EAK3CC,EAAmBC,GAAS,CAC9BA,EAAM,eAAc,EAEpBH,EAAQ,UAAY,GAEpB,MAAMJ,EAAgBO,EAAM,cAAc,SAAS,MAAM,MAAM,OAE/D,GAAIP,IAAkB,GAAI,CAEvBQ,EAAS,KAAK,CAED,MAAO,GACP,gBAAiB,MACjB,aAAc,QACd,SAAU,WACnB,QAAS,6BACpB,CAAQ,EAGA,MAER,CACIH,EAAQ,MAAM,QAAU,QAEvBN,EAAYC,CAAa,EACrB,KAAKS,GAAQ,CAGV,GAAIA,EAAK,QAAU,EAAG,CAElBD,EAAS,KAAK,CAEV,MAAO,GACP,gBAAiB,MACjB,aAAc,QACd,SAAU,WACV,QAAS,0EAC7B,CAAiB,EAEDH,EAAQ,MAAM,QAAU,OAExB,MACH,CAED,MAAMK,EAAkBD,EAAK,KAAK,IAAIE,GAAMd,EAAac,CAAE,CAAC,EAAE,KAAK,EAAE,EAErEP,EAAQ,UAAYM,EAEH,IAAIE,EAAe,aAAc,CAC9C,aAAc,MACd,gBAAiB,SACjB,aAAc,GAC9B,CAAa,EAEQ,QAAO,EAEhBP,EAAQ,MAAM,QAAU,MAEpC,CAAS,EACA,MAAMQ,GAAS,CACZ,QAAQ,IAAIA,CAAK,EACjBR,EAAQ,MAAM,QAAU,MACpC,CAAS,EAEJF,EAAW,MAAK,CAErB,EAEAA,EAAW,iBAAiB,SAAUG,CAAgB"}