{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst searchForm = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\nconst loading = document.querySelector('.loading');\n\nconst cardTemplate = cardInfo => {\n    return ` <li class=\"photo-card\">\n        <a href=\"${cardInfo.largeImageURL}\">\n            <img src=\"${cardInfo.webformatURL}\" alt=\"${cardInfo.tags}\" />\n        </a>\n        <div class=\"info\">\n            <p>Likes: <span>${cardInfo.likes}</span></p>\n            <p>Views: <span>${cardInfo.views}</span></p>\n            <p>Comments: <span>${cardInfo.comments}</span></p>\n            <p>Downloads: <span>${cardInfo.downloads}</span></p>\n        </div>\n    </li>`\n};\n\n\n\nconst searchFormSubmit = event => {\n    event.preventDefault();\n\n    gallery.innerHTML = '';\n\n    const searchedQuery = event.currentTarget.elements.query.value.trim();\n\n    if (searchedQuery === '') {\n\n       iziToast.show({\n                    \n                    title: '',\n                    backgroundColor: 'red',\n                    messageColor: 'white',\n                    position: 'topRight',\n           message: 'Please enter a search term!'\n       });\n    \n\n        return;\n    };\n\n    loading.style.display = 'block';\n\n\n    const params = new URLSearchParams({\n        key: '48576644-2047f7a262d439c7b8152f8c6',\n        q: `${searchedQuery}`,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true',\n    });\n\n\n    fetch(`https://pixabay.com/api/?${params}`)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n\n            return response.json();\n        })\n        .then(data => {\n            \n\n            if (data.total === 0) {\n\n                iziToast.show({\n                    \n                    title: '',\n                    backgroundColor: 'red',\n                    messageColor: 'white',\n                    position: 'topRight',\n                    message: 'Sorry, there are no images matching your search query. Please try again!'\n                });\n                \n                loading.style.display = 'none'; \n                \n                return;\n            }\n\n            const galleryTemplate = data.hits.map(el => cardTemplate(el)).join('');\n\n            gallery.innerHTML = galleryTemplate;\n\n            const lightbox = new SimpleLightbox('.gallery a', {\n                captionsData: 'alt',\n                captionPosition: 'bottom',\n                captionDelay: 500,\n            });\n\n            lightbox.refresh();  \n\n            loading.style.display = 'none';\n\n        })\n        .catch(error => {\n            console.log(error);\n            loading.style.display = 'none'; \n        });\n    \n     searchForm.reset();\n    \n};\n\nsearchForm.addEventListener('submit', searchFormSubmit);"],"names":["searchForm","gallery","loading","cardTemplate","cardInfo","searchFormSubmit","event","searchedQuery","iziToast","params","response","data","galleryTemplate","el","SimpleLightbox","error"],"mappings":"6vBAMA,MAAMA,EAAa,SAAS,cAAc,OAAO,EAC3CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAU,SAAS,cAAc,UAAU,EAE3CC,EAAeC,GACV;AAAA,mBACQA,EAAS,aAAa;AAAA,wBACjBA,EAAS,YAAY,UAAUA,EAAS,IAAI;AAAA;AAAA;AAAA,8BAGtCA,EAAS,KAAK;AAAA,8BACdA,EAAS,KAAK;AAAA,iCACXA,EAAS,QAAQ;AAAA,kCAChBA,EAAS,SAAS;AAAA;AAAA,WAO9CC,EAAmBC,GAAS,CAC9BA,EAAM,eAAc,EAEpBL,EAAQ,UAAY,GAEpB,MAAMM,EAAgBD,EAAM,cAAc,SAAS,MAAM,MAAM,OAE/D,GAAIC,IAAkB,GAAI,CAEvBC,EAAS,KAAK,CAED,MAAO,GACP,gBAAiB,MACjB,aAAc,QACd,SAAU,WACnB,QAAS,6BACpB,CAAQ,EAGA,MAER,CACIN,EAAQ,MAAM,QAAU,QAGxB,MAAMO,EAAS,IAAI,gBAAgB,CAC/B,IAAK,qCACL,EAAG,GAAGF,CAAa,GACnB,WAAY,QACZ,YAAa,aACb,WAAY,MACpB,CAAK,EAGD,MAAM,4BAA4BE,CAAM,EAAE,EACrC,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGnC,OAAOA,EAAS,MAC5B,CAAS,EACA,KAAKC,GAAQ,CAGV,GAAIA,EAAK,QAAU,EAAG,CAElBH,EAAS,KAAK,CAEV,MAAO,GACP,gBAAiB,MACjB,aAAc,QACd,SAAU,WACV,QAAS,0EAC7B,CAAiB,EAEDN,EAAQ,MAAM,QAAU,OAExB,MACH,CAED,MAAMU,EAAkBD,EAAK,KAAK,IAAIE,GAAMV,EAAaU,CAAE,CAAC,EAAE,KAAK,EAAE,EAErEZ,EAAQ,UAAYW,EAEH,IAAIE,EAAe,aAAc,CAC9C,aAAc,MACd,gBAAiB,SACjB,aAAc,GAC9B,CAAa,EAEQ,QAAO,EAEhBZ,EAAQ,MAAM,QAAU,MAEpC,CAAS,EACA,MAAMa,GAAS,CACZ,QAAQ,IAAIA,CAAK,EACjBb,EAAQ,MAAM,QAAU,MACpC,CAAS,EAEJF,EAAW,MAAK,CAErB,EAEAA,EAAW,iBAAiB,SAAUK,CAAgB"}